### О Breeze
**Breeze** - веб-фреймворк для Java, позволяющий создавать простые собственные сайты с поддержкой Java-кода. \
Breeze позволяет создавать как статичные HTML-страницы, так и динамические, поддерживает добавление плейсхолдеров. Безусловно, есть поддержка CSS, JS и других статичных файлов.

### Структура файлов Breeze
Разберемся со структурой любого проекта на Breeze. Вот пример проекта:
```
src
    main
        java
            package...
                Application.java
                Controller.java
                ...
        resources
            static
                css
                    style.css
                images
                    image.png
                scrpit.js
            web
                home.html
                info.html
            config.toml
```
- Все статичные страницы, т.е. не требующие каких-то уникальных данных от пользователя, находятся в папке web. \
- Все статичные файлы: CSS, JS, изображения и любые другие файлы находятся в папке static.
Важно, что можно добавлять файлы непосредственно в папку static, а можно создавать в папке static свою папку и добавлять файлы в нее.
Но добавлять еще папки в свою папку нельзя.

Обязательно придерживаться именно такой структуры ресурсов (resources) проекта, иначе ничего не будет работать.

### Запуск и написание кода
Для запуска приложения нужно написать в любом месте в аргументах -breeze. \
Все классы фреймворка находятся в me.fuzzi.breeze.core.

### Класс запуска
Это класс, должен наследоваться от WebApplication. Он является основным классом запуска веб-сайта. \
Примерно так он выглядит:

```java
public class Application extends WebApplication {
    public static void main(String[] args) {
        launch(new Application(), args);
    }

    @Override
    protected void actions() {
    }
}
```

launch(<класс>, <аргументы>) - запуск нужного класса и передача аргументов запуска. \
actions() - метод, реализация которого обязательна. В нем будут находиться дополнительные действия: регистрация контроллеров (плейсхолдеров), создание динамических страниц.

### Конфиг
Сам файл конфига находится в папке ресурсов. В конфиге происходит указание IP и порта сайта, регистрация ресурсов.

```toml
[main]
    ip = "127.0.0.1"
    port = 25005
```

По умолчанию запускается main-блок (указанный выше), но при указании в аргументах запуска --br-main:<имя> можно запускать другие блоки запуска.
Они указываются также в конфиге и имеют в себе ту же информацию, но просто они имеют другое название.

### Статичные страницы
Чтобы зарегистрировать страницу сайта, нужно сначала ее создать. Для этого перейдем в папку web и создадим в ней HTML-файл с нужным именем. \
Далее можно писать обыкновенный HTML-код.

Для регистрации сайта (т.к. по умолчанию доступа к нему не будет) опять перейдем в конфиг и добавим в него:

```toml
[resource.<имя>]
    registered = true
    web = "/путь/"
```

**<имя>** - имя файла. \
**registered** отвечает за регистрацию страницы, если установить false, страница не будет зарегистрирована. \
**web** - путь, на котором будет установлена страница. К примеру "/" или "/info/" (/ на конце обязателен).

Если какая-то страница не будет добавлена в конфиг, то и доступа к ней с сайта не будет, т.к. это расценивается, будто она не была зарегистрирована.

Для перехода на другую страницу нужно указывать именно путь, под которым была зарегистрирована страница, а не путь в ресурсах до файла.

### Статичные файла
Статические элементы (CSS, JS, изображения и т.д.) хранятся в ресурсах в папке static. Регистрировать их в конфиге или где-то еще не нужно, это происходит автоматически. \
Если файл находится в папке, то указывать /static/папка/файл не нужно, нужно указывать /папка/файл.

### Контроллеры (плейсхолдеры)
Если вам нужно сделать получение какого-либо значения из логики Java (к примеру получение названий файлов из папки), то понадобятся плейсхолдеры. \
Для того, чтобы создать первый контроллер, а в нем зарегистрировать плейсхолдер, нужно сначала создать для него отдельный класс. Примерно так он может выглядеть:

```java
public class Controller extends WebController {
    @Override
    public void init() {
        add(имя, значение);
    }
}
```

В одном контроллере можно создавать столько плейсхолдеров, сколько вам нужно (конечно, можно делать много классов контроллеров). \
Для использования плейсхолдера в HTML-файлах нужно писать %br:имя%. Такой текст заменится на то содержимое в виде текста, которое вы укажите в значении. \
Если хочется, то можно создать целую страницу с помощью плейсхолдера, но в этом не будет особого смысла, весь все равно нужно будет этот плейсхолдер вставить в HTML-файл.
Из этого следует, что в контроллерах можно использовать весь функционал HTML (или JS и CSS), т.к. это заменяется на обыкновенный текст при регистрации страницы, что сделает страницу цельной.

Для регистрации контроллера нужно дополнить код метода actions в вашем основном классе приложения:

```java
@Override
protected void actions() {
    new Controller().load();
}
```

### Динамические страницы
Предположим, что вы хотите сделать страницу, которая будет выводить текущее расположение пользователя (путь сайта), но в статичных страницах и плейсхолдерах это реализовать не получится.
Для таких нужд есть создание страниц непосредственно в Java-коде - динамические страницы. Это позволяет получать доступ к exchange, который для каждого пользователя является уникальным. \
Для создания новой страницы дополните метод actions таким кодом:

```java
@Override
protected void actions() {
    new WebPage(server.getServer(), <путь>) {
        @Override
        public String page() {
            Object user = exchange.<...>;
            return "страница";
        }
    }.load();
}
```

Фактически, это такая же регистрация страницы (с поддержкой плейсхолдеров и т.д.), но с возможностью получения того самого exchange. \
После server.getServer() укажите путь регистрации страницы с аналогичными обычной регистрации требованиями. \
Метод page() должен возвращать содержимое веб-страницы. \
Обязательно стоит уточнить, что использовать exchange (устанавливать значения переменным с его использованием) нужно только внутри метода page(), иначе будут ошибки и будет просто невозможно получить доступ к странице.